var Filter = (function(){var storage = window.localStorage;var init = function(locator,event,keys,value){	listenersInit(locator,event,keys,value);};var listenersInit = function(locator,event,keys,value){	$(locator).live(event,function(){		var requested;			if (event=='click'){				requested = $(value).text();			} else if (event=='keyup'){				requested = $(this).val();			}		fetchDataByFilterKey(requested,locator,keys);	})};var fetchDataByFilterKey = function(requested,locator,keys){	 for (var i = 0; i < storage.length ; i++){			if (storage.getItem('lastID')!=null && storage.key(i).indexOf('personData')!=-1){							if (keys instanceof Array){						var values = [];						for (n in keys){							values[n] = $.trim($.parseJSON(storage.getItem(storage.key(i)))[keys[n]]);						}				}						var id2Remove = $.parseJSON(storage.getItem(storage.key(i)))['id']; 							for (y in values){					if (values[y].indexOf(requested)!=-1 && ($(locator).val()!='' || $(locator).text()!='')){								$('#'+id2Remove).parent().parent().show();							} else {								$('#'+id2Remove).parent().parent().hide();							}							if ($(locator).val()=='' && $(locator).text()==''){								$('#'+id2Remove).parent().parent().hide();								$('#main-table tr').show();							} 				}			}	}}reset = function(locators,keys){	for (var i = 0;i < locators.length; i++){	var tagName = $(locators[i]).prop('tagName').toLowerCase();		if(tagName=='div' || tagName=='span'){				$(locators[i]).text('');			}else if (tagName=='input'){				$(locators[i]).val('');		}		fetchDataByFilterKey('',locators[i],keys);	}}		return {			init:init,			reset:reset		}})()